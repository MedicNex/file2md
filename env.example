# MedicNex File2Markdown 环境配置文件
# 复制此文件为 .env 并填入您的实际配置

# =================== 必需配置 ===================
# File2Markdown API 密钥 (必需)
API_KEY=your-strong-api-key-here
REQUIRE_API_KEY=true

# =================== 可选配置 ===================
# 服务端口号
PORT=8080

# 最大并发处理数
MAX_CONCURRENT=5

# Vision API 配置
VISION_MODEL=gpt-4o-mini
VISION_MAX_RETRIES=3
VISION_RETRY_DELAY=1
VISION_BACKOFF_FACTOR=2

# ImageMagick 路径 (根据您的系统调整)
MAGICK_HOME=/opt/homebrew/opt/imagemagick

# 文件处理限制
MAX_FILE_SIZE=100  # MB
MAX_TEXT_LINES=50000
MAX_TEXT_CHARS=10000000

# CORS安全配置（请根据实际需要配置允许的源）
# 生产环境：仅允许 chat.medicnex.com 访问
# CORS_ORIGINS=https://chat.medicnex.com
# 开发环境：添加本地开发地址
# CORS_ORIGINS=https://chat.medicnex.com,http://localhost:3000,http://127.0.0.1:3000

CORS_ORIGINS=https://chat.medicnex.com
CORS_ALLOW_CREDENTIALS=true

# 日志配置
LOG_LEVEL=INFO
ENABLE_DETAILED_LOGGING=false
MAX_LOG_CONTENT_LENGTH=500

# 视觉API配置（可选）
VISION_API_KEY=your-vision-api-key
VISION_API_BASE=https://api.openai.com/v1

# 兼容旧配置
OPENAI_API_KEY=your-openai-api-key

# 队列管理
QUEUE_CLEANUP_HOURS=24

# 临时文件目录
TEMP_DIR=/tmp

# =================== 安全提示 ===================
# 1. 确保 .env 文件已添加到 .gitignore
# 2. 不要在代码中硬编码 API 密钥
# 3. 定期轮换 API 密钥
# 4. 使用环境特定的配置文件 (.env.prod, .env.dev 等) 